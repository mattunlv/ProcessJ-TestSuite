
proc void writer(chan<int>.write cw)[yield=true] {
	cw.write(10);
}

proc boolean getBool() {
	return true;
}

proc void main(string[] args) [yield=true] {
	
	chan<int> c;
	timer t;
	int x = 10;

	par {
		writer(c.write);

		alt {
			(true) && x = c.read() : { x += 5;}		
			(x > 5) && t.timeout(10000) : { x += 10;}
			//(getBool()) && skip: {x += 15;}	
		}
	}
}
